<div class="card mt-4 mb-4">

  <div class="card-body">
    <div class="d-flex justify-content-between">
    <h4 class="card-title">Users <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span></h4>
    <button routerLink="/add" type="button" class="btn btn-outline-info btn-sm  float-right">Create new user</button>
  </div>
  <div *ngIf="usersFromApi && usersFromApi.length == 0">Users list is empty ...</div>

      <ul *ngIf="usersFromApi">
        <table *ngIf="usersFromApi.length > 0" class="table">
          <thead>
            <tr class="head">
              <th scope="col">Username</th>
              <th scope="col">First Name</th>
              <th scope="col">Last Name</th>
              <th scope="col">Email</th>
              <th scope="col">Creation date</th>
              <th *ngIf="isAdmin" scope="col">Action</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let user of usersFromApi">
              <td  scope="row">
                <span [ngStyle]="{'background-color': user.isActive? '#66bb6a' : '#f44336'}" class="dot"></span>
                {{user.username}}
              </td>
              <td>{{user.firstname}}</td>
              <td>{{user.lastname}}</td>
              <td>{{user.email}}</td>
              <td>{{user.createdAt | date:'short'}}</td>
              <td *ngIf="isAdmin"><button (click)="delete(user.id)" type="button" class="btn btn-danger btn-sm delete">Delete <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span></button>
                <button type="button" class="btn btn-info btn-sm edit" routerLink="/edit/{{user.id}}">Edit</button>
              </td>

            </tr>
          </tbody>
        </table>
      </ul>
  </div>
</div >
